### 建模流程
- 使用滑窗法进行数据集的构建，其中训练集的时间窗口是21天，预测未来7天的销量
    
  - 测试集 2016年9月27日~2016年10月31日（不包含国庆七天假期）
    
  - 训练集1 2016年9月20日~2016年10月24日（不包含国庆7天假期）

  - 训练集2 2016年9月13日~2016年10月17日（不包含国庆7天假期） 
  
  - 训练集3 2016年09月06日~2016年10月10日

- step1 只是用历史前21天的历史数据，利用xgboost的regression构建baseline，**loss:0.091332,rmse:43.494713**

- step2 处理商家特征
1. 商店基本信息：商家类别，消费等级，评论数，浏览量，工作日平均销量，评分
2. 统计指标 节假日每天营业时长，工作日营业时长，节假日销量情况，工作日销量情况，节假日浏览量，工作日浏览量，节假日/工作日
加上商家特征后，**loss:0.095353,rmse:40.554484**

- step3 添加训练14天的星期及节假日信息以及未来7天的星期及节假日信息
**lloss:0.084944,rmse:39.728076**


- step3 处理异常数据
通过数据观察，存在有销量为0的情况，且销量为0前后几天的销量与正常销量也有较大的偏差，所以在实际特征处理的时候删掉了存在0销量的样本，并对历史21天的销量使用指数平滑来减少波动情况

|处理方式|loss|rmse|
|---|---|---|
|移除0值数据|0.082035|39.845254|
|移除0值数据，一次平滑a取0.1|0.081647|38.944077|
|移除0值数据，一次平滑a取0.3|0.081078|39.209156|
|移除0值数据，一次平滑a取0.5(最佳参数)|**0.080284**|**39.568423**|
|移除0值数据，一次平滑a取0.8|0.081619|39.694555|

- 策略项
通过误差分析，发现周末的rmase相对较大,所以在周末预测的时候加上0.98的参数进行修正
**loss:0.080147,rmse:39.421793**

- 对xgb模型进行简单的调参，使用早停可以有效的防止过拟合
**loss:0.079757,rmse:38.412085**

- 使用lgb模型进行训练，进行简单地调参
**oss:0.080748,rmse:41.472203**

整体来说 xgb的预测准确度更高一些

